var r={dec:{low:[1/Math.SQRT2,1/Math.SQRT2],high:[1/Math.SQRT2,-1/Math.SQRT2]},rec:{low:[1/Math.SQRT2,1/Math.SQRT2],high:[1/Math.SQRT2,-1/Math.SQRT2]}},t={db1:r,D2:r,haar:r};function n(r){if(r.low.length!==r.high.length)throw new Error("Invalid filters: Low-pass and high-pass filters have different lengths.");if(r.low.length%2!=0)throw new Error("Invalid filters: They have to have even length.");return!0}function e(r){return"string"!=typeof r?r:t[r]}function a(r,t){if(r.length!==t.length)throw new Error("Both arrays have to have the same length.");return r.reduce((function(r,n,e){return r+n*t[e]}),0)}function o(r,t){return t.map((function(t){return r*t}))}function h(r,t){for(var n=[],e=0,a=r;e<a.length;e++)n=n.concat(o(a[e],t));return n}function i(r,t){if(r.length!==t.length)throw new Error("Both arrays have to have the same length.");return r.map((function(r,n){return r+t[n]}))}var f=function(){function r(){}return r.energy=function(r){for(var t=0,n=0,e=r;n<e.length;n++){var a=e[n];Array.isArray(a)?t+=this.energy(a):t+=Math.pow(a,2)}return t},r.invTransform=function(r,t){void 0===t&&(t="haar"),function(r){if(r.length<1)throw new Error("Invalid coefficients. Array length must not be zero.")}(r);var a=e(t).rec;n(a),function(r,t){for(var n=t[0].length,e=1;e<t.length;e++){if(t[e].length!==n)throw new Error("Invalid wavelet basis for coefficients. The wavelet basis does not approximation and detail coefficients of the same length on each level of the transform.");n*=r.low.length}}(a,r);for(var o=r[0],f=1;f<r.length;f++){var u=r[f];o=i(h(o,a.low),h(u,a.high))}return o},r.transform=function(r,t){void 0===t&&(t="haar"),function(r){if(0===(t=r.length)||0!=(t&t-1))throw new Error("Input data has to have a length equal to a power of 2, but length is "+r.length+".");var t}(r);var o=e(t).dec;n(o),function(r,t){if(t.length<r.low.length)throw new Error("In order to use this wavelet basis, input data has to have a length larger than or equal to "+r.low.length)}(o,r);for(var h=[],i=r;i.length>1;){for(var f=[],u=[],v=0;v<i.length;v+=2){var s=v+o.low.length,c=s-i.length,l=c<0?i.slice(v,s):i.slice(v).concat(i.slice(0,c));f.push(a(l,o.low)),u.push(a(l,o.high))}h.unshift(u),i=f}return h.unshift(i),h},r}();export{f as d}